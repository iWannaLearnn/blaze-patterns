(function(){"use strict";var t={1596:function(t,e,a){var r=a(144),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("v-container",{attrs:{fluid:""}},[a("HomeApp")],1)],1),a("v-footer",{attrs:{app:""}},[a("span",[t._v("© 2022")])])],1)},s=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"home"}},[a("div",{staticClass:"inputs"},[a("div",{staticClass:"start-date"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.startDate,expression:"startDate"}],attrs:{type:"date",id:"start-date"},domProps:{value:t.startDate},on:{input:function(e){e.target.composing||(t.startDate=e.target.value)}}})]),a("div",{staticClass:"end-date"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.endDate,expression:"endDate"}],attrs:{type:"date",id:"end-date"},domProps:{value:t.endDate},on:{input:function(e){e.target.composing||(t.endDate=e.target.value)}}})]),a("div",{staticClass:"button-search"},[a("button",{attrs:{type:"button"},on:{click:function(e){return t.searchDataBase()}}},[t._v("Filtrar")])])]),a("div",{staticClass:"component"},[a("PatternPlays",{staticClass:"pattern-plays",attrs:{propPlays:t.plays}})],1)])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"start-date"}},[a("strong",[t._v("Data Início: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"end-date"}},[a("strong",[t._v("Data Fim: ")])])}],i=(a(6699),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-container",[a("v-row",[a("v-col"),a("v-col",[a("h2",{staticStyle:{"text-align":"center"}},[t._v("Jogadas")]),a("table",[a("tr",[a("th"),t._l(t.plays,(function(e,r){return a("th",{key:e.id+r,attrs:{colspan:"3"}},[t._v(t._s(e.id))])}))],2),a("tr",[a("th",[t._v("Horário")]),t._l(t.plays.length,(function(e){return[a("th",{key:"acertos"+e},[t._v("Acertos")]),a("th",{key:"erros"+e},[t._v("Erros")]),a("th",{key:"diferenca"+e},[t._v("Diferença")])]})),a("th",[t._v("Total")])],2),t._l(24,(function(e,r){return a("tr",{key:r,class:t.getHourClass(r)},[a("td",[t._v(t._s(r))]),t._l(t.plays,(function(e){return[a("td",{key:"totalCorrect"+e.id+r,staticClass:"darkGrayBG"},[t._v(t._s(t.getPlayDiff(e,r).totalCorrect))]),a("td",{key:"wrongPlays"+e.id+r,staticClass:"darkGrayBG"},[t._v(t._s(t.getPlayDiff(e,r).wrongPlays))]),a("td",{key:"difference"+e.id+r,class:t.getBGColor(t.getPlayDiff(e,r).difference)},[t._v(" "+t._s(t.getPlayDiff(e,r).difference))])]})),a("td",{class:t.getBGColor(t.getTotalByHour(t.plays,r))},[t._v(t._s(t.getTotalByHour(t.plays,r)))])],2)})),a("tr",[a("td",[t._v("Total")]),t._l(t.plays,(function(e){return a("td",{key:"total"+e.id,class:t.getBGColor(t.getTotalByPattern(e)),attrs:{colspan:"3"}},[t._v(t._s(t.getTotalByPattern(e)))])}))],2)],2)])],1)],1)],1)}),c=[],u={props:{propPlays:Array},computed:{plays(){return this.propPlays.filter((t=>"assertiveness"!==t.id))}},methods:{getHourClass(t){const e=(new Date).getHours();return t===e?"evidence":""},getPlayDiff(t,e){const a=e.toString().padStart(2,"0")+"_"+(e+1).toString().padStart(2,"0");let r=t[a];return r||{difference:0,totalCorrect:0,wrongPlays:0}},getTotalByHour(t,e){let a=0;return t.forEach((t=>{"assertiveness"!=t.id&&(a+=this.getPlayDiff(t,e).difference)})),a},getTotalByPattern(t){let e=0;return Object.values(t).forEach((t=>{"string"!==typeof t&&(e+=t.difference)})),e},getPatternCount(t){return 3*(t.length-1)},getBGColor(t){let e="grayBG";return t>0?e="greenBG":t<0&&(e="redBG"),e}}},d=u,p=a(1001),f=a(3453),y=a.n(f),h=a(2102),g=a(247),P=a(2877),v=(0,p.Z)(d,i,c,!1,null,null,null),V=v.exports;y()(v,{VCol:h.Z,VContainer:g.Z,VRow:P.Z});var m=a(8085);a(6257);const b={apiKey:"AIzaSyDLB27nWPHbrSNTwBNfaLit1N8Fn-me7j4",authDomain:"open-banking-open-source.firebaseapp.com",projectId:"open-banking-open-source",storageBucket:"open-banking-open-source.appspot.com",databaseURL:"https://open-banking-open-source-default-rtdb.firebaseio.com",messagingSenderId:"691278522719",appId:"1:691278522719:web:5e32f234fb907d76dbaeea",measurementId:"G-47842PXB6F"},_=m.Z.initializeApp(b),D=_.firestore(),w=m.Z.database();var k={data(){return{plays:new Array,startDate:"",endDate:""}},components:{PatternPlays:V},methods:{async searchDataBase(){const t=D.collection("played-colors"),e=w.ref("played-colors");let a=[];new Date;this.startDate>"2022-06-22"?(await e.orderByChild("timePlayed").startAt(this.startDate+"T03:00:00Z").endAt(this.getNextDay(this.getEndDate())+"T02:59:59Z").once("value",(t=>{t.forEach((t=>{a.push(t.val())}))})),console.log("Consultou no realtime database")):(await t.where("timePlayed",">=",this.startDate+"T03:00:00Z").where("timePlayed","<=",this.getNextDay(this.getEndDate())+"T02:59:59Z").get().then((t=>{t.forEach((t=>{a.push(t.data())}))})),console.log("Consultou no firestore"));const r=this.groupByPlays(a),n=this.adjustPlays(r),s=this.calculatePlays(n);this.plays=s},getEndDate(){return""===this.endDate?this.startDate:this.endDate},getNextDay(t){let e=new Date(t);return e.setDate(e.getDate()+2),e.getFullYear()+"-"+(e.getMonth()+1).toString().padStart(2,"0")+"-"+e.getDate().toString().padStart(2,"0")},calculatePlays(t){let e=[];return t.forEach((t=>{let a={};for(let e=0;e<24;e++){const t=e.toString().padStart(2,"0")+"_"+(e+1).toString().padStart(2,"0");a[t]={totalCorrect:0,wrongPlays:0,difference:0}}t.forEach((t=>{const e=this.getHourUtcMinus3(parseInt(t.plays[t.plays.length-1].timePlayed.split("T")[1].split(":")[0])),r=e.toString().padStart(2,"0")+"_"+(parseInt(e)+1).toString().padStart(2,"0");t.plays.find((t=>"SG"===t.correct||"G1"===t.correct||"G2"===t.correct||"G3"===t.correct))?a[r].totalCorrect++:a[r].wrongPlays+=3===t.plays.length?7:2===t.plays.length?3:1,a[r].difference=a[r].totalCorrect-a[r].wrongPlays,a["id"]=t.plays[0].patternName})),e.push(a)})),e},getHourUtcMinus3(t){switch(t){case 2:return 23;case 1:return 22;case 0:return 21;default:return t-3}},adjustPlays(t){let e=[];for(let a=0;a<t.length;a++)e.push(this.getAdjustedPlays(t,a));return e},getAdjustedPlays(t,e){let a=[],r=[];return t[e].forEach((t=>{a.includes(t.playId)||a.push(t.playId)})),a.forEach((a=>{let n={playId:a,plays:[]};t[e].forEach((t=>{t.playId===a&&(t["id"]=t.patternName,n.plays.push(t))})),r.push(n)})),r},groupByPlays(t){let e=[],a=[],r=[],n=[],s=[];return t.forEach((t=>{switch(t.patternName=this.getPatternName(t.patternName),t.patternName){case"PVPVP":e.push(t);break;case"PVVPPV":a.push(t);break;case"VPPPV":r.push(t);break;case"VVVVV":n.push(t);break;default:s.push(t);break}})),[e,a,r,s,n]},getPatternName(t){let e="";switch(t){case"PVPVP":case"VPVPV":e="PVPVP";break;case"PVVPPV":case"VPPVVP":e="PVVPPV";break;case"VPPPV":case"PVVVP":e="VPPPV";break;case"VVVVV":case"PPPPP":e="VVVVV";break;case"VVPVVPVV":case"PPVPPVPP":e="VVPVVPVV";break;default:break}return e}},firestore:{plays:D.collection("all-plays-assertiveness")}},C=k,S=(0,p.Z)(C,o,l,!1,null,null,null),B=S.exports,E={props:{source:String},data:()=>({drawer:null,currentRoute:window.location.pathname}),created(){},methods:{},components:{HomeApp:B}},Z=E,x=a(7524),T=a(4946),j=a(85),G=(0,p.Z)(Z,n,s,!1,null,null,null),O=G.exports;y()(G,{VApp:x.Z,VContainer:g.Z,VContent:T.Z,VFooter:j.Z});var N=a(1910);r.Z.use(N.Z);var A=new N.Z({}),H=a(6497);r.Z.use(H.S),r.Z.config.productionTip=!1,new r.Z({vuetify:A,render:t=>t(O)}).$mount("#app")}},e={};function a(r){var n=e[r];if(void 0!==n)return n.exports;var s=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=t,function(){var t=[];a.O=function(e,r,n,s){if(!r){var o=1/0;for(u=0;u<t.length;u++){r=t[u][0],n=t[u][1],s=t[u][2];for(var l=!0,i=0;i<r.length;i++)(!1&s||o>=s)&&Object.keys(a.O).every((function(t){return a.O[t](r[i])}))?r.splice(i--,1):(l=!1,s<o&&(o=s));if(l){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[r,n,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,s,o=r[0],l=r[1],i=r[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(i)var u=i(a)}for(e&&e(r);c<o.length;c++)s=o[c],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(u)},r=self["webpackChunkblaze_patterns"]=self["webpackChunkblaze_patterns"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(1596)}));r=a.O(r)})();
//# sourceMappingURL=app.2ee4e2cd.js.map